## nng_stream_set

Set option on byte stream.

### Synopsis

```c
#include <nng/nng.h>

int nng_stream_set(nng_stream *s, const char *name, const void *data, size_t size);

int nng_stream_set_bool(nng_stream *s, const char *opt, bool val);
int nng_stream_set_int(nng_stream *s, const char *opt, int val);
int nng_stream_set_ms(nng_stream *s, const char *opt, nng_duration val);
int nng_stream_set_ptr(nng_stream *s, const char *opt, void *val);
int nng_stream_set_size(nng_stream *s, const char *opt, size_t val);
int nng_stream_set_string(nng_stream *s, const char *opt, const char *val);
int nng_stream_set_uint64(nng_stream *s, const char *opt, uint64_t val);
int nng_stream_set_addr(nng_stream *s, const char *opt, const nng_sockaddr *val);
```

### Description

The `nng_stream_set` functions are used to configure options for the byte stream _s_.
The actual options that may be configured in this way vary, and are specified by _opt_.
A number of them are documented in xref:../opts/index.adoc[Options].

#### Forms

The details of the type, size, and semantics of the option will depend on the actual option, and will be documented with the option itself.

TIP: It may be easier to use one of the typed forms of this function.

`nng_stream_set`::
This function is untyped, and can be used to configure any arbitrary data.
The _val_ pointer addresses the data to copy, and _size_ is the size of the objected located at _val_.

`nng_stream_set_bool`::
This function is for options which take a Boolean (`bool`).

`nng_stream_set_int`::
This function is for options which take an integer (`int`).

`nng_stream_set_ms`::
This function is used to configure time durations (`nng_duration`).
The duration is an integer number of milliseconds.

`nng_stream_set_ptr`::
This function is used to pass a pointer to structured data.
The data referenced by is generally managed by other functions.
+
NOTE: This form is somewhat special in that the object is generally not copied, but instead the *pointer* to the object is copied.
Please see the documentation for the specific option for further details.

`nng_stream_set_size`::
This function is used to configure a size, typically for buffer sizes,
message maximum sizes, and similar options.

`nng_stream_set_string`::
This function is used to pass configure a string.
Strings passed this way must be legal UTF-8 or ASCII strings, terminated with a `NUL` (`\0`) byte.

`nng_stream_set_uint64`::
This function is used to configure a 64-bit unsigned value.

`nng_stream_set_addr`::
This function is used to configure a xref:../opts/nng_sockaddr.adoc[socket address].
The value is copied, and thus the caller may discard the supplied value immediately after this function returns.

### Return Values

This function returns 0 on success, and non-zero otherwise.

### Errors

[horizontal]
`NNG_ECLOSED`:: The connection is closed.
`NNG_EINVAL`:: Either _data_ or _size_ are invalid.
`NNG_ENOTSUP`:: The option is not supported.
`NNG_EREADONLY`:: The option may not be modified.

### See Also

xref:../opts/index.adoc[Options],
xref:nng_stream_get.adoc[nng_stream_get]
