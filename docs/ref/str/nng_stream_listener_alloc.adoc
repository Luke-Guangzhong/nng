## nng_stream_listener_alloc

Allocate byte stream listener.

### Synopsis

```c
#include <nng/nng.h>

int nng_stream_listener_alloc(nng_stream_listener **lp, const char *addr);

int nng_stream_listener_alloc_url(nng_stream_listener **lp, const nng_url *url);
```

### Description

These functions allocates a listener for byte streams.
Listeners create `nng_stream` objects by accepting incoming connections, via the xref:nng_stream_listener_accept.adoc[`nng_stream_listener_accept`] function.

The first form, `nng_stream_listener_alloc`, connects to the address specified by _addr_, which should be a string representing a URL.

The second form, `nng_stream_listener_alloc_url`, takes a pre-parsed or pre-constructed xref:../opts/nng_url.adoc[`nng_url`] object to determine the remote address.

These functions may support different URL schemes, such as `ipc://`, `tcp://`, `tls+tcp://`, or `ws://`.

Both forms store the listener in the location referenced by _lp_.

### Return Values

These functions return 0 on success, and non-zero otherwise.

### Errors

[horizontal]
`NNG_ENOMEM`:: Insufficient free memory exists.
`NNG_ENOTSUP`:: The URL scheme is not supported by the implementation.
`NNG_EADDRINVAL`:: The URL requested is invalid.

### See Also

xref:nng_stream_listener_accept.adoc[nng_stream_listener_accept],
xref:nng_stream_listener_close.adoc[nng_stream_listener_close],
xref:nng_stream_listener_free.adoc[nng_stream_listener_free],
xref:nng_stream_listener_get.adoc[nng_stream_listener_get],
xref:nng_stream_listener_listen.adoc[nng_stream_listener_listen],
xref:nng_stream_listener_set.adoc[nng_stream_listener_set]
