## nng_ctx_get

Get context option.

### Synopsis

```c
#include <nng/nng.h>

int nng_ctx_get(nng_ctx ctx, const char *opt, void *val, size_t *valszp);

int nng_ctx_get_bool(nng_ctx ctx, const char *opt, bool *bvalp);
int nng_ctx_get_int(nng_ctx ctx, const char *opt, int *ivalp);
int nng_ctx_get_ms(nng_ctx ctx, const char *opt, nng_duration *durp);
int nng_ctx_get_size(nng_ctx ctx, const char *opt, size_t *zp);
int nng_ctx_get_string(nng_ctx ctx, const char *opt, char **strp);
int nng_ctx_get_uint64(nng_ctx ctx, const char *opt, uint64_t *u64p);
```

### Description

(((options, context)))
The `nng_ctx_get` functions are used to retrieve option values for the context _ctx_.
The actual options that may be retrieved in this way vary.

TIP: Context options are protocol specific.
See the option documentation for more information.

#### Forms

In all of these forms, the option _opt_ is retrieved from the context _ctx_.
The forms vary based on the type of the option.

The details of the type, size, and semantics of the option will depend on the actual option.
See the documentation for the option itself for more information.

TIP: It is recommended to use one of the typed forms of this function instead of `nng_get`, when possible.

`nng_ctx_get`::
This function is untyped and can be used to retrieve the value of any option.
The caller supplies a buffer to receive the value in _val_, and the size of that buffer in _valszp_. +
 +
When the function returns, the actual size of the data copied (or that would have been copied if sufficient space were present) is return in the location referenced by _valszp_.
If the caller's buffer is not large enough to hold the entire object, then the copy is truncated.
Therefore the caller should check for truncation by verifying that the returned size in _valszp_ does not exceed the original buffer size. +
 +
It is acceptable to pass `NULL` for _val_ if the value in _valszp_ is zero.
This can be used to determine the size of the buffer needed to receive the object.

`nng_ctx_get_bool`::
This retrieves a Boolean (`bool`) into _bvalp_.

`nng_ctx_get_int`::
This function retrieves an integer (`int`) into _ivalp_.

`nng_ctx_get_ms`::
This function retrieves a time xref:nng_duration.adoc[duration] (in milliseconds) into _durp_.
(The special value ((`NNG_DURATION_INFINITE`)) means an infinite amount of time, and
the special value ((`NNG_DURATION_DEFAULT`)) means a context-specific default.)

`nng_ctx_get_size`::
This function retrieves a size into _zp_.
This is typically used for buffer sizes, maximum sizes, and similar options.

`nng_ctx_get_string`::
This retrieves a string into _strp_.
This string is created from the source using xref:nng_strdup.adoc[`nng_strdup`]
and consequently must be freed by the caller using
xref:nng_strfree.adoc[`nng_strfree`] when it is no longer needed.

`nng_ctx_get_uint64`::
This function is used to retrieve a 64-bit unsigned value into the value
referenced by _u64p_.

### Return Values

These functions return 0 on success, and non-zero otherwise.

### Errors

[horizontal]
`NNG_EBADTYPE`:: Incorrect type for option.
`NNG_ECLOSED`:: Parameter _s_ does not refer to an open socket.
`NNG_EINVAL`:: Size of destination _val_ too small for object.
`NNG_ENOMEM`:: Insufficient memory exists.
`NNG_ENOTSUP`:: The option _opt_ is not supported.
`NNG_EWRITEONLY`:: The option _opt_ is write-only.

### See Also

xref:../opts/index.adoc[Options],
xref:nng_ctx_set.adoc[nng_ctx_set],
xref:../sock/nng_socket_get.adoc[nng_socket_get],
xref:../util/nng_strdup.adoc[nng_strdup],
xref:../util/nng_strfree.adoc[nng_strfree]
